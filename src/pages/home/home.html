<ion-header>
  <ion-navbar>
    <ion-title>
      Controle de Mesas e Pedidos
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

  <ion-list>

    <ion-card>

      <ion-item> 
        Cadastrar nova mesa no sistema
      </ion-item>

      <ion-item>
        <ion-label >Insira um numero para:</ion-label>
        <ion-input type="number" name="numeroMesa" [(ngModel)]="numeroMesa"></ion-input>
      </ion-item>

      <ion-item>
        <button ion-button outline item-end icon-right (click)="criarMesa()">
          Adicionar Mesa 
          <ion-icon name="add-circle"></ion-icon>
        </button>
      </ion-item>

    </ion-card>  

    <p></p>

    <ion-card>

      <ion-item>  
        <ion-label>Mesas disponiveis ou ocupadas</ion-label>
      </ion-item>    
      
      <p></p>
    
      <ion-list *ngIf="mesas">
        <ion-item *ngFor="let mesa of mesas">
          <ion-label >Mesa:{{ mesa.numMesa }} -> Status:{{ mesa.status }}//CÃ³d:{{ mesa.codMesa }}</ion-label> 
        </ion-item>
      </ion-list>

      <ion-item>
        <button ion-button outline item-end icon-right (click)="statusMesas()">
          Exibir/Atualizar
          <ion-icon name="refresh"></ion-icon>
        </button>
      </ion-item>

    </ion-card>

    <p></p>  

    <ion-card>

      <ion-card-header>Fazer Pedido</ion-card-header>

      <ion-item>
        <ion-label>Cod. da Mesa </ion-label>
        <ion-input type="number" name="codMesaPed" [(ngModel)]="codMesaPed"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label >Nome do Pedido</ion-label>
        <ion-input type="text" name="pedido" [(ngModel)]="pedido"></ion-input>
      </ion-item>
      
      <ion-item>
        <ion-label >Valor do Pedido</ion-label>
        <ion-input type="number" name="valor" [(ngModel)]="valor"></ion-input>
      </ion-item>

      <p></p>

      <ion-item>
        <button ion-button outline item-end icon-right (click)="fazerPedido()">
          Fazer Pedido
          <ion-icon name="create"></ion-icon>
        </button>
      </ion-item>  

      <p></p>
      
    </ion-card>

    <p></p>

    <ion-card>

      <ion-card-header>Consultar Pedidos</ion-card-header>

      <p></p>

      <ion-item>
        <ion-label>Cod. de mesa p/ consulta:</ion-label>
        <ion-input type="number" name="consPedido" [(ngModel)]="consPedido"></ion-input>
      </ion-item>
      
      <ion-list *ngIf="pedidos">
        <ion-item *ngFor="let pedido of pedidos">
          <ion-label >Pedido: {{ pedido.pedido }} ----- R$: {{ pedido.valorPedido }}</ion-label> 
        </ion-item>
      </ion-list>

      <ion-item>  
        <button ion-button outline item-end icon-right (click)="consultarPedidos()">
          Consultar Pedidos da Mesa
          <ion-icon name="list"></ion-icon>          
        </button> 
      </ion-item>


    </ion-card>

    <p></p>  

    <ion-card>

      <ion-item> 
        Encerrar mesa
      </ion-item>
      <ion-item>
        <ion-label >Insira o Cod da mesa para:</ion-label>
        <ion-input type="number" name="endMesa" [(ngModel)]="endMesa"></ion-input>
      </ion-item>

      <ion-item>
        <button ion-button outline item-end icon-right color='danger' (click)="liberarMesa()">
          Fechar Mesa
          <ion-icon name="clipboard"></ion-icon>
        </button>
      </ion-item>

    </ion-card>  

  </ion-list>




</ion-content>